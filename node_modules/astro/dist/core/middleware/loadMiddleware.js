<<<<<<< HEAD
import { MIDDLEWARE_PATH_SEGMENT_NAME } from "../constants.js";
async function loadMiddleware(moduleLoader, srcDir) {
  let middlewarePath = srcDir.pathname + "/" + MIDDLEWARE_PATH_SEGMENT_NAME;
  try {
    const module = await moduleLoader.import(middlewarePath);
    return module;
  } catch {
    return void 0;
=======
import { MiddlewareCantBeLoaded } from "../errors/errors-data.js";
import { AstroError } from "../errors/index.js";
import { MIDDLEWARE_MODULE_ID } from "./vite-plugin.js";
async function loadMiddleware(moduleLoader) {
  try {
    return await moduleLoader.import(MIDDLEWARE_MODULE_ID);
  } catch (error) {
    const astroError = new AstroError(MiddlewareCantBeLoaded, { cause: error });
    throw astroError;
>>>>>>> 08f40ceb (Initial)
  }
}
export {
  loadMiddleware
};
