---
import NewsLayout from '../../../layouts/NewsLayout.astro';
import TrainingListComp from '../../../components/UI/layout/TrainingListComp.astro';
import BannerFix from '../../../components/UI/section/BannerFix.astro';
import trainingData from '../../../data/trainingLoader.js';

export const prerender = true;

export async function getStaticPaths() {
  const langs = ['en', 'vi', 'ja', 'es', 'ko'];
  return langs.map(lang => ({ params: { lang } }));
}

const lang = Astro.params.lang as 'en' | 'vi' | 'ja' | 'es' | 'ko';

const pageTitle = {
  en: 'Professional Training Programs',
  vi: 'Chương Trình Đào Tạo Chuyên Nghiệp',
  ja: 'プロフェッショナルトレーニングプログラム',
  es: 'Programas de Formación Profesional',
  ko: '전문 교육 프로그램'
};

const pageDescription = {
  en: 'Elevate your permanent makeup career with world-class training from VyBrows Academy. Our comprehensive courses are designed by industry experts with over 20 years of experience.',
  vi: 'Nâng cao sự nghiệp phun xăm thẩm mỹ của bạn với khóa đào tạo đẳng cấp quốc tế từ VyBrows Academy. Các khóa học toàn diện được thiết kế bởi các chuyên gia hàng đầu với hơn 10 năm kinh nghiệm.',
  ja: 'VyBrows Academyの世界クラスのトレーニングで、アートメイクのキャリアを向上させましょう。10年以上の経験を持つ業界の専門家によって設計された包括的なコースです。',
  es: 'Eleva tu carrera de maquillaje permanente con capacitación de clase mundial de VyBrows Academy. Nuestros cursos integrales están diseñados por expertos de la industria con más de 10 años de experiencia.',
  ko: 'VyBrows Academy의 세계적 수준의 교육으로 반영구 화장 경력을 향상시키세요. 10년 이상의 경험을 가진 업계 전문가들이 설계한 종합적인 과정입니다.'
};

const ctaText = {
  en: 'Ready to elevate your skills?',
  vi: 'Sẵn sàng nâng cao kỹ năng của bạn?',
  ja: 'スキルアップの準備はできましたか？',
  es: '¿Listo para mejorar tus habilidades?',
  ko: '기술을 향상시킬 준비가 되셨나요?'
};

const ctaButtonText = {
  en: 'Book Free Consultation',
  vi: 'Đặt lịch tư vấn miễn phí',
  ja: '無料相談を予約する',
  es: 'Programar una consulta gratuita',
  ko: '무료 상담 예약하기'
};

// Prepare training data for component
const trainingList = trainingData.map(training => ({
  slug: training.slug,
  title: (training.title as any)[lang] || training.title.en,
  description: (training.description as any)[lang] || training.description.en,
  image: training.image,
  duration: training.duration ? ((training.duration as any)[lang] || training.duration.en) : undefined,
  link: `/${lang}/training/${training.slug}`
}));
---

<NewsLayout title={pageTitle[lang]}>
  <BannerFix 
    title={pageTitle[lang]} 
    subtitle={pageDescription[lang]}
    showBreadcrumb={true}
    breadcrumbItems={[{ href: `/${lang}/training`, label: 'Training' }]}
  />

  <section class="pt-16 pb-16 bg-surface px-6">
    <div class="max-w-7xl mx-auto">
      <!-- Intro Section -->
      <div class="bg-primary/10 rounded-xl p-8 text-center mb-12">
        <h2 class="text-2xl font-bold text-primary mb-4">
          {lang === 'vi' ? 'Biến Đam Mê Thành Nghề Nghiệp' : 
           lang === 'ja' ? '情熱をプロフェッションに変える' : 
           lang === 'es' ? 'Transforma Tu Pasión En Profesión' : 
           lang === 'ko' ? '열정을 직업으로 변화시키세요' : 
           'Transform Your Passion Into Profession'}
        </h2>
        <p class="text-lg text-on-surface mb-6">
          {lang === 'vi' ? 'Hãy tham gia cùng hàng nghìn nghệ sĩ PMU thành công đã bắt đầu hành trình của họ tại VyBrows Academy. Các chương trình do chuyên gia giảng dạy kết hợp lý thuyết, thực hành và kỹ năng kinh doanh.' : 
           lang === 'ja' ? 'VyBrows Academyで旅を始めた何千人もの成功したPMUアーティストに参加しましょう。専門家主導のプログラムは、理論、実践、ビジネススキルを組み合わせています。' : 
           lang === 'es' ? 'Únete a miles de artistas de PMU exitosos que comenzaron su viaje en VyBrows Academy. Nuestros programas dirigidos por expertos combinan teoría, práctica práctica y habilidades comerciales.' : 
           lang === 'ko' ? 'VyBrows Academy에서 여정을 시작한 수천 명의 성공적인 PMU 아티스트에 합류하세요. 전문가가 이끄는 프로그램은 이론, 실습 및 비즈니스 기술을 결합합니다.' : 
           'Join thousands of successful PMU artists who started their journey at VyBrows Academy. Our expert-led programs combine theory, hands-on practice, and business skills.'}
        </p>
        <a
          href={`/${lang}/contact`}
          class="inline-flex items-center justify-center px-8 py-4 rounded-lg font-bold text-lg shadow-lg transition-all hover:scale-105 hover:opacity-90"
          style="background-color: var(--color-primary); color: white;"
        >
          {ctaButtonText[lang]}
        </a>
      </div>

      <!-- Training Grid with Modern Card Design -->
      <TrainingListComp trainings={trainingList} viewMode="grid" lang={lang} />

      <!-- Why Train With Us -->
      <div class="mt-16">
        <h2 class="text-3xl font-bold text-center mb-8 text-primary">
          {lang === 'vi' ? 'Tại Sao Đào Tạo Với Chúng Tôi?' : lang === 'ja' ? '私たちとトレーニングする理由' : lang === 'es' ? '¿Por qué entrenar con nosotros?' : lang === 'ko' ? '우리와 함께 교육받는 이유' : 'Why Train With Us?'}
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">👩‍🏫</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Giảng Viên Chuyên Gia' : lang === 'ja' ? '専門講師' : lang === 'es' ? 'Instructores Expertos' : lang === 'ko' ? '전문 강사' : 'Expert Instructors'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Học từ những chuyên gia hàng đầu' : lang === 'ja' ? '業界のリーダーから学ぶ' : lang === 'es' ? 'Aprende de líderes de la industria' : lang === 'ko' ? '업계 리더로부터 배우기' : 'Learn from industry leaders'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">🎓</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Chứng Chỉ Quốc Tế' : lang === 'ja' ? '国際認証' : lang === 'es' ? 'Certificación Internacional' : lang === 'ko' ? '국제 인증' : 'International Certification'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Được công nhận toàn cầu' : lang === 'ja' ? '世界的に認められた' : lang === 'es' ? 'Reconocida Globalmente' : lang === 'ko' ? '전 세계적으로 인정됨' : 'Globally recognized'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">👥</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Lớp Học Nhỏ' : lang === 'ja' ? '少人数クラス' : lang === 'es' ? 'Clases Pequeñas' : lang === 'ko' ? '소규모 수업' : 'Small Classes'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Tối đa 4 học viên mỗi lớp' : lang === 'ja' ? 'クラス最大4名' : lang === 'es' ? 'Máximo 4 estudiantes por clase' : lang === 'ko' ? '수업당 최대 4명' : 'Maximum 4 students per class'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">🛠️</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Bộ Dụng Cụ Đầy Đủ' : lang === 'ja' ? '完全なツールキット' : lang === 'es' ? 'Kit Completo de Herramientas' : lang === 'ko' ? '완전한 도구 키트' : 'Complete Toolkit'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Bao gồm tất cả vật tư' : lang === 'ja' ? 'すべての材料を含む' : lang === 'es' ? 'Incluye todos los materiales' : lang === 'ko' ? '모든 재료 포함' : 'All materials included'}
            </p>
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="bg-primary/10 border border-primary rounded-xl p-8 text-center mt-16">
        <h2 class="text-2xl font-bold text-primary mb-4">
          {ctaText[lang]}
        </h2>
        <p class="text-lg text-on-surface mb-6">
          {lang === 'vi' ? 'Liên hệ ngay hôm nay để được tư vấn chi tiết về các khóa học phù hợp với bạn.' : 
           lang === 'ja' ? '今すぐお問い合わせいただき、あなたに最適なコースについて詳細にご相談ください。' : 
           lang === 'es' ? 'Contacta hoy para recibir asesoramiento detallado sobre los cursos que mejor se adapten a ti.' : 
           lang === 'ko' ? '오늘 연락하여 귀하에게 적합한 강좌에 대한 자세한 상담을 받으세요.' : 
           'Contact us today for detailed consultation about courses that suit you best.'}
        </p>
        <a 
          href={`/${lang}/booking`}
          class="inline-block px-8 py-4 text-white font-bold rounded-lg transition-all hover:opacity-90 text-lg"
          style="background-color: var(--color-primary);"
        >
          {ctaButtonText[lang]}
        </a>
      </div>
    </div>
  </section>
</NewsLayout>
