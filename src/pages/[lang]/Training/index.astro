---
import NewsLayout from '../../../layouts/NewsLayout.astro';
import TrainingListComp from '../../../components/UI/layout/TrainingListComp.astro';
import trainingData from '../../../content/training.json' assert { type: 'json' };

export const prerender = true;

export async function getStaticPaths() {
  const langs = ['en', 'vi', 'ja', 'es', 'ko'];
  return langs.map(lang => ({ params: { lang } }));
}

const lang = Astro.params.lang as 'en' | 'vi' | 'ja' | 'es' | 'ko';

const pageTitle = {
  en: 'Professional Training Programs',
  vi: 'Chương Trình Đào Tạo Chuyên Nghiệp',
  ja: 'プロフェッショナルトレーニングプログラム',
  es: 'Programas de Formación Profesional',
  ko: '전문 교육 프로그램'
};

const pageDescription = {
  en: 'Elevate your permanent makeup career with world-class training from VyBrows Academy. Our comprehensive courses are designed by industry experts with over 20 years of experience.',
  vi: 'Nâng cao sự nghiệp phun xăm thẩm mỹ của bạn với khóa đào tạo đẳng cấp quốc tế từ VyBrows Academy. Các khóa học toàn diện được thiết kế bởi các chuyên gia hàng đầu với hơn 10 năm kinh nghiệm.',
  ja: 'VyBrows Academyの世界クラスのトレーニングで、アートメイクのキャリアを向上させましょう。10年以上の経験を持つ業界の専門家によって設計された包括的なコースです。',
  es: 'Eleva tu carrera de maquillaje permanente con capacitación de clase mundial de VyBrows Academy. Nuestros cursos integrales están diseñados por expertos de la industria con más de 10 años de experiencia.',
  ko: 'VyBrows Academy의 세계적 수준의 교육으로 반영구 화장 경력을 향상시키세요. 10년 이상의 경험을 가진 업계 전문가들이 설계한 종합적인 과정입니다.'
};

const ctaText = {
  en: 'Ready to elevate your skills?',
  vi: 'Sẵn sàng nâng cao kỹ năng của bạn?',
  ja: 'スキルアップの準備はできましたか？',
  es: '¿Listo para mejorar tus habilidades?',
  ko: '기술을 향상시킬 준비가 되셨나요?'
};

const ctaButtonText = {
  en: 'Book Free Consultation',
  vi: 'Đặt lịch tư vấn miễn phí',
  ja: '無料相談を予約する',
  es: 'Programar una consulta gratuita',
  ko: '무료 상담 예약하기'
};

// Prepare training data for component
const trainingList = trainingData.map(training => ({
  slug: training.slug,
  title: (training.title as any)[lang] || training.title.en,
  description: (training.description as any)[lang] || training.description.en,
  image: training.image,
  duration: training.duration ? ((training.duration as any)[lang] || training.duration.en) : undefined,
  link: `/${lang}/training/${training.slug}`
}));
---

<NewsLayout title={pageTitle[lang]}>
  <!-- Hero Header Section - Services Style -->
  <section class="relative bg-gradient-to-b from-[var(--color-primary-dark)] to-black pb-12 pt-60">
    <div class="max-w-[1280px] mx-auto px-4 relative z-10 flex flex-col items-center text-left pt-16">
      <!-- Dynamic Heading -->
      <h1 class="text-4xl md:text-5xl font-bold mb-8 text-white text-center" style="font-family: 'Playfair Display', serif;">{pageTitle[lang]}</h1>
      <p class="text-xl text-white/90 max-w-2xl mx-auto text-center mb-8">
        {pageDescription[lang]}
      </p>
    </div>
    <!-- SVG Wave -->
    <div class="absolute inset-0 w-full h-full pointer-events-none select-none">
      <svg class="absolute bottom-0 left-0 w-full h-40" viewBox="0 0 1440 320" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill="var(--color-primary-dark)" fill-opacity="1" d="M0,288L80,272C160,256,320,224,480,197.3C640,171,800,149,960,154.7C1120,160,1280,192,1360,208L1440,224L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"/>
      </svg>
    </div>
  </section>

  <section class="pt-16 pb-16 bg-surface px-6">
    <div class="max-w-7xl mx-auto">

      <!-- Training Grid with Modern Card Design -->
      <TrainingListComp trainings={trainingList} viewMode="grid" lang={lang} />

      <!-- CTA Section -->
      <div class="bg-primary/10 border border-primary rounded-xl p-8 text-center">
        <h2 class="text-2xl font-bold text-primary mb-4">
          {ctaText[lang]}
        </h2>
        <p class="text-on-surface mb-6 max-w-2xl mx-auto">
          {lang === 'vi' 
            ? 'Đội ngũ chuyên gia của chúng tôi sẵn sàng giúp bạn chọn khóa học phù hợp nhất với mục tiêu nghề nghiệp và kỹ năng hiện tại của bạn.'
            : lang === 'ja'
            ? '私たちの専門家チームが、あなたのキャリア目標と現在のスキルに最適なコースを選ぶお手伝いをします。'
            : lang === 'es'
            ? 'Nuestro equipo de expertos está listo para ayudarte a elegir el curso más adecuado para tus objetivos profesionales y habilidades actuales.'
            : lang === 'ko'
            ? '전문가 팀이 귀하의 경력 목표와 현재 기술에 가장 적합한 과정을 선택하는 데 도움을 드릴 준비가 되어 있습니다.'
            : 'Our expert team is ready to help you choose the most suitable course for your career goals and current skills.'
          }
        </p>
        <a
          href={`/${lang}/contact`}
          class="inline-flex items-center justify-center px-8 py-4 rounded-lg font-bold text-lg shadow-lg transition-all hover:scale-105"
          style="background-color: var(--color-primary); color: white;"
        >
          {ctaButtonText[lang]}
        </a>
      </div>

      <!-- Why Train With Us -->
      <div class="mt-16">
        <h2 class="text-3xl font-bold text-center text-primary mb-8">
          {lang === 'vi' ? 'Tại sao đào tạo với chúng tôi?' : lang === 'ja' ? '私たちとトレーニングする理由' : lang === 'es' ? '¿Por qué entrenar con nosotros?' : lang === 'ko' ? '우리와 함께 교육받는 이유' : 'Why Train With Us?'}
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">👩‍🏫</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Giảng viên chuyên gia' : lang === 'ja' ? '専門講師' : lang === 'es' ? 'Instructores expertos' : lang === 'ko' ? '전문 강사' : 'Expert Instructors'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? '10+ năm kinh nghiệm thực tế' : lang === 'ja' ? '10年以上の実務経験' : lang === 'es' ? 'Más de 10 años de experiencia práctica' : lang === 'ko' ? '10년 이상의 실무 경험' : '10+ years practical experience'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">🎓</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Chứng chỉ quốc tế' : lang === 'ja' ? '国際認証' : lang === 'es' ? 'Certificación internacional' : lang === 'ko' ? '국제 인증' : 'International Certification'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Được công nhận toàn cầu' : lang === 'ja' ? '世界的に認められた' : lang === 'es' ? 'Reconocida globalmente' : lang === 'ko' ? '전 세계적으로 인정됨' : 'Globally recognized'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">👥</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Lớp học nhỏ' : lang === 'ja' ? '少人数クラス' : lang === 'es' ? 'Clases pequeñas' : lang === 'ko' ? '소규모 수업' : 'Small Classes'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Tối đa 4 học viên/lớp' : lang === 'ja' ? 'クラス最大4名' : lang === 'es' ? 'Máximo 4 estudiantes por clase' : lang === 'ko' ? '수업당 최대 4명' : 'Maximum 4 students per class'}
            </p>
          </div>
          <div class="bg-surface-1 border border-border rounded-xl p-6 text-center">
            <div class="text-4xl mb-4">🛠️</div>
            <h3 class="font-bold text-primary mb-2">
              {lang === 'vi' ? 'Bộ dụng cụ đầy đủ' : lang === 'ja' ? '完全なツールキット' : lang === 'es' ? 'Kit completo de herramientas' : lang === 'ko' ? '완전한 도구 키트' : 'Complete Toolkit'}
            </h3>
            <p class="text-sm text-on-surface">
              {lang === 'vi' ? 'Bao gồm tất cả vật tư' : lang === 'ja' ? 'すべての材料を含む' : lang === 'es' ? 'Incluye todos los materiales' : lang === 'ko' ? '모든 재료 포함' : 'All materials included'}
            </p>
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="bg-primary/10 border border-primary rounded-xl p-8 text-center">
        <h2 class="text-2xl font-bold text-primary mb-4">
          {ctaText[lang]}
        </h2>
        <p class="text-lg text-on-surface mb-6">
          {lang === 'vi' ? 'Liên hệ ngay hôm nay để được tư vấn chi tiết về các khóa học phù hợp với bạn.' : 
           lang === 'ja' ? '今すぐお問い合わせいただき、あなたに最適なコースについて詳細にご相談ください。' : 
           lang === 'es' ? 'Contacta hoy para recibir asesoramiento detallado sobre los cursos que mejor se adapten a ti.' : 
           lang === 'ko' ? '오늘 연락하여 귀하에게 적합한 강좌에 대한 자세한 상담을 받으세요.' : 
           'Contact us today for detailed consultation about courses that suit you best.'}
        </p>
        <a 
          href={`/${lang}/booking`}
          class="inline-block px-8 py-4 bg-primary text-white font-bold rounded-lg hover:bg-primary-dark transition-colors text-lg"
        >
          {ctaButtonText[lang]}
        </a>
      </div>
    </div>
  </section>
</NewsLayout>
