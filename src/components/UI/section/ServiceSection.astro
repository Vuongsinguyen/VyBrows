---
import ServicesCard from "../cards/ServicesCard.astro";
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  link?: string;
  class?: string;
  heading?: string;
}

const { class: customClass = '', heading } = Astro.props;

// Detect current language from URL
const currentLang = Astro.url.pathname.split('/')[1] || 'en';

import servicesData from '../../../content/services.json' assert { type: 'json' };

const sectionTitles = {
  en: "Signature Services by Vybrows Academy",
  vi: "Dịch vụ đặc trưng bởi Vybrows Academy",
  ja: "Servicios exclusivos de Vybrows Academy" // giữ key là ja, nội dung tiếng Tây Ban Nha
};

const sectionTitle = heading || sectionTitles[currentLang as keyof typeof sectionTitles] || sectionTitles.en;

const sectionDescriptions = {
  en: `At VyBrows Academy, permanent makeup is both an art and a science, and we’ve mastered the equation to unleash a woman’s true beauty. Every customer’s features are unique, so we attend to each of them with an exceptional level of service to deliver effortlessly natural results. Our team is trained in following the highest standards of hygiene and professionalism to ensure your comfort and safety across all our permanent makeup services.`,
  vi: `Tại VyBrows Academy, phun xăm thẩm mỹ vừa là nghệ thuật vừa là khoa học, và chúng tôi đã nắm vững công thức để tôn vinh vẻ đẹp thực sự của người phụ nữ. Mỗi khách hàng đều có nét riêng, vì vậy chúng tôi chăm sóc từng người với dịch vụ tận tâm để mang lại kết quả tự nhiên nhất. Đội ngũ của chúng tôi được đào tạo theo tiêu chuẩn vệ sinh và chuyên nghiệp cao nhất để đảm bảo sự thoải mái và an toàn cho bạn ở mọi dịch vụ phun xăm.`,
  es: `En VyBrows Academy, el maquillaje permanente es tanto un arte como una ciencia, y hemos perfeccionado la fórmula para realzar la verdadera belleza de cada mujer. Cada clienta es única, por eso ofrecemos un servicio personalizado y dedicado para lograr el resultado más natural. Nuestro equipo está formado bajo los más altos estándares de higiene y profesionalismo, garantizando tu comodidad y seguridad en cada procedimiento de micropigmentación.`,
  ko: `VyBrows 아카데미에서는 반영구 화장은 예술이자 과학이며, 우리는 여성의 진정한 아름다움을 빛내기 위한 노하우를 완벽히 갖추고 있습니다. 고객 한 분 한 분은 모두 고유한 매력을 지니고 있기에, 저희는 세심하고 정성 어린 서비스를 통해 가장 자연스러운 결과를 선사합니다. 저희 팀은 최고 수준의 위생 관리와 전문적인 교육을 받아 모든 시술에서 고객님의 편안함과 안전을 보장합니다.`,
  ja: `ヴィブロウズ・アカデミーでは、アートメイクは芸術であると同時に科学でもあり、私たちは女性本来の美しさを引き立てるための秘訣を極めています。お客様一人ひとりがそれぞれ異なる魅力をお持ちだからこそ、私たちは丁寧で心を込めたサービスをご提供し、最も自然な仕上がりを実現します。当アカデミーのチームは、最高水準の衛生管理とプロフェッショナルな技術を習得しており、どの施術においてもお客様に安心と快適さをお届けします。`
};

const sectionDescription = sectionDescriptions[currentLang as keyof typeof sectionDescriptions] || sectionDescriptions.en;

// Base prefix by lang for links
const basePrefix = currentLang === 'en' ? '' : `/${currentLang}`;
---

<section id="signature-services" 
  class={`pt-[44px] pb-16 md:py-16 px-6 ${customClass}`} 
  style="background: var(--color-bg);"
  <div class="max-w-7xl mx-auto">
    <!-- Section Title -->
    <h2 class="text-4xl md:text-5xl font-bold font-lora text-center mb-8" style="color: var(--color-primary2cream); font-family: 'Lora', serif;">
      {sectionTitle}
    </h2>
    <!-- Section Description -->
    <p class="text-lg md:text-xl text-center mb-10 font-lora mx-auto" style="color: var(--color-text-secondary); font-family: 'Lora', serif; max-width: 900px;">
      {sectionDescription}
    </p>
    <!-- Services Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {servicesData.map((service) => (
        <ServicesCard
          title={service.title[currentLang as keyof typeof service.title] || service.title.en}
          description={service.description[currentLang as keyof typeof service.description] || service.description.en}
          image={service.image}
          link={`/${currentLang}/service/${service.slug}`}
          class="h-full"
        />
      ))}
    </div>

    <!-- CTA -->
    <div class="mt-10 flex justify-center">
      <div class="flex flex-row gap-3 flex-wrap justify-center">
        <a
          href={`${basePrefix}/#contact`}
          class="inline-flex items-center justify-center px-6 py-3 rounded-lg font-bold text-base shadow transition-colors focus:outline-none focus-visible:ring-2"
          style="background: var(--color-primary); color:#FFD895;"
          aria-label="Book Consultation"
        >
          Book Consultation
        </a>
        <a
          href={`${basePrefix}/#contact`}
          class="inline-flex items-center justify-center px-6 py-3 rounded-lg font-bold text-base border transition-colors focus:outline-none focus-visible:ring-2 hover:bg-white/10"
          style="border-color: var(--color-text-secondary); color: var(--color-text-secondary);"
          aria-label="Book a Reservation"
        >
          Book a Reservation
        </a>
      </div>
    </div>
  </div>
</section>

