---
export interface Props {
  children: any;
}
const { children } = Astro.props;
import Button from '../shared/Button.astro';
// Section data for demo; in real use, this could be a prop
const sectionCount = 8;
const sections: { id: string; title: string }[] = Array.from({ length: sectionCount }, (_, i: number) => ({
  id: `section${i+1}`,
  title: `Section ${i+1} Title`,
}));
---
<style>
  html {
    scroll-behavior: smooth;
  }
</style>
<div class="w-full flex justify-center px-2 sm:px-4 md:px-6 lg:px-12">
  <div class="max-w-[1280px] w-full min-h-[100vh] flex flex-col lg:flex-row items-start gap-4 md:gap-6 px-2 sm:px-4 md:px-8">
    <!-- Left Sidebar -->
    <aside class="w-full lg:w-[200px] bg-surface rounded-lg p-4 text-on-surface shadow mb-4 lg:mb-0 lg:sticky lg:top-32 z-20 border border-border">
      <h2 class="font-bold text-lg mb-4 text-on-surface dark:text-on-surface">Category</h2>
      <nav>
        <ul>
          {sections.map((section, idx) => (
            <li>
              <a 
                href={`#${section.id}`}
                class="block text-on-surface py-2 transition hover:text-primary"
              >
                {section.title}
              </a>
              {idx < sections.length - 1 && <hr class="border-t border-border my-0" />}
            </li>
          ))}
        </ul>
      </nav>
    </aside>
    <!-- Main Content -->
    <section class="flex-1 bg-surface rounded-lg p-2 sm:p-4 md:p-6 text-on-surface pt-4 md:pt-8 pb-8 md:pb-12 px-2 sm:px-4 md:px-8 w-full border border-border">
      {children ?? (
        sections.map((section, i) => (
          <section class="mb-8 md:mb-12 scroll-mt-24 md:scroll-mt-32" id={section.id}>
            <h2 class="text-2xl md:text-3xl font-bold mb-2 text-on-surface">{section.title}</h2>
            <div class="text-base text-on-surface/70 mb-2 text-justify">Đây là mô tả ngắn cho {section.title.toLowerCase()}.</div>
            <img 
              src={`https://images.unsplash.com/photo-${(i+10)*1111111111 % 9999999999}?auto=format&fit=crop&w=800&q=80`}
              alt={`${section.title} Image`}
              class="rounded-lg w-full max-w-2xl mx-auto mb-4 object-cover"
            />
            <p class="text-on-surface/80 text-justify">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque euismod, urna eu tincidunt consectetur, nisi nisl aliquam nunc, eget aliquam massa nisl quis neque. Mauris consequat, velit eu dictum ultricies, enim urna dictum nisi, at consequat enim enim eu urna. Sed euismod, nisl quis aliquam ultricies, nunc nisl aliquam nunc, eget aliquam massa nisl quis neque. Pellentesque euismod, urna eu tincidunt consectetur, nisi nisl aliquam nunc, eget aliquam massa nisl quis neque. Mauris consequat, velit eu dictum ultricies, enim urna dictum nisi, at consequat enim enim eu urna.
            </p>
          </section>
        ))
      )}
    </section>
    <!-- Right Sidebar -->
    <aside class="w-full lg:w-[220px] bg-surface rounded-lg p-4 text-on-surface shadow mt-4 lg:mt-0 lg:sticky lg:top-32 z-20 border border-border">
      <form class="space-y-4">
        <h2 class="font-bold text-lg mb-2">Contact Us</h2>
        <div>
          <label class="block text-sm font-medium mb-1" for="name">Name</label>
          <input class="w-full rounded border border-border p-2 text-on-surface bg-surface-1" type="text" id="name" name="name" required />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1" for="email">Email</label>
          <input class="w-full rounded border border-border p-2 text-on-surface bg-surface-1" type="email" id="email" name="email" required />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1" for="message">Message</label>
          <textarea class="w-full rounded border border-border p-2 text-on-surface bg-surface-1" id="message" name="message" rows="4" required></textarea>
        </div>
        <Button type="submit" variant="primary" class="w-full">Send</Button>
      </form>
    </aside>
  </div>
</div>
