---
// UseCaseCard.astro - Professional use case card component
export interface Props {
  uc: {
    name: string;
    category: string;
    industry: string;
    teamSize: number;
    months: number;
    description: string;
    techs: Array<{ name: string; color: string }>;
    image?: string;
  };
  expanded?: boolean;
  avatarIndex?: number;
}

const {
  uc = {
    name: '',
    category: '',
    industry: '',
    teamSize: 0,
    months: 0,
    description: '',
    techs: []
  },
  expanded = false,
  avatarIndex = 0
} = Astro.props;
---

<div
  class={`usecase-card
          w-full max-w-[420px] md:max-w-[540px]
          rounded-2xl p-6 border border-white/20 shadow-xl
          transform transition-transform duration-300 hover:scale-105
          flex flex-col${expanded ? ' expanded' : ''}`}
  style="background: var(--color-bg); opacity: 1;
         box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18),
                     0 1.5px 6px 0 rgba(255,215,0,0.12);
         height: 210px;"
>
  <div class="flex items-center mb-2">
    <div class="flex-shrink-0 mr-4">
      <img
        src={uc?.image || `https://randomuser.me/api/portraits/women/${(avatarIndex % 20) + 1}.jpg`}
        alt={uc?.name}
        class="w-[76px] h-[76px] rounded-full object-cover border-2 border-yellow-300 shadow"
      />
    </div>
    <div class="flex flex-col items-start">
      <div class="text-xl font-bold font-lora"
           style="color: var(--color-blacktext); font-family: 'Lora', serif;">
        {uc?.name}
      </div>
      <div class="flex justify-start items-center mt-1">
        {[...Array(5)].map((_, i) => (
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                 fill="#FFD700" viewBox="0 0 24 24" class="mx-0.5">
              <path d="M12 17.27L18.18 21l-1.64-7.03L22
                        9.24l-7.19-.61L12 2 9.19 8.63
                        2 9.24l5.46 4.73L5.82 21z"/>
            </svg>
          </span>
        ))}
      </div>
    </div>
  </div>
  {uc?.description && (
    <div
  class="mb-2"
  style="color: var(--color-text-secondary); overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;"
    >
      {uc.description}
    </div>
  )}
</div>